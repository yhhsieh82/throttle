# 服務負載的控制:throttle
###### tags: `microservice`

## 定義: 
throttle指的是在單位時間內限制服務端最大服務量，用以保護服務端的服務的穩定性的方式。

## 描述:
在這個專案中，我參考[服務負載的控制](https://columns.chicken-house.net/2018/06/10/microservice10-throttle/)，建造一個服務負載的實驗環境，並且實作服務量控制之演算法來測試。
## 問題：
若我要限制某 API 一分鐘最多可以呼叫 60 次，可以怎麼做？
- 統計一分鐘內的呼叫次數，如果在某個區間內超過則阻擋呼叫。
    - 可以切割更小的單位時間做統計，例如每秒最多一次的呼叫。可以平均將要求分配，避免短時間內處理大量請求(例如在一秒內處理60個請求，然後在接下來的時間內完全沒有任何請求被受理)。缺點是短時間間隔的既是歸零相較來說較耗費資源。

- 如何確定系統能夠負荷的請求數量？如何定義流量的計算？這個方法是否可以應用到分散式系統？
